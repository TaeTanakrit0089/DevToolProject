{% load static %}
{% load custom_translations %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <link rel="icon" type="image/x-icon" href="{% static 'images/family.png' %}">
    <title>
        {% block title %}
            Title
        {% endblock %}
    </title>
    <link rel="stylesheet" href="{% static '/css/styles.css' %}"/>
</head>
{% block navbar %}
    {% include 'navbar.html' %}
{% endblock %}
<body>
{% comment %}Alert{% endcomment %}
<div id="alert" onmouseenter="close_alert()" role="alert"
     class="fixed top-5 inset-x-0 flex justify-center z-40 transition-full -translate-y-full opacity-0 duration-300">
    <div class="flex items-start gap-4 rounded-xl border p-4 bg-white dark:bg-black dark:border-gray2">
        <span id="icon_ok" class="text-green-600 hidden">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
               stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round"
                  d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
        </span>
        <span id="icon_error" class="text-red-600 hidden">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
               stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round"
                  d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
          </svg>          
        </span>

        <div class="flex-1">
            <strong id="alert_title" class="block font-medium">บันทึกการเปลี่ยนแปลง</strong>

            <p id="alert_text" class="mt-1 text-sm text-gray-700 dark:text-gray-300">
                การเปลี่ยนแปลงของคุณได้ถูกบันทึกแล้ว</p>
        </div>

        <button class="text-gray-500 transition hover:text-gray-600">
            <span class="sr-only">ปิด</span>

            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                 stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
        </button>
    </div>
</div>

<div class="relative">
    {% block content %}
    {% endblock %}

    <footer class="sticky border-t py-4 mt-8 border-t-brown-300 dark:border-t-brown-800">
        <div class="max-w-screen-xl mx-auto px-4">
            <div class="flex flex-wrap justify-between">
                <!-- Brand Info -->
                <div class="mb-6">
                    <a href="{% url 'home' %}" class="flex items-center space-x-3 rtl:space-x-reverse">
                        <img src="{% static 'images/family.png' %}" class="h-8" alt="RemindMe Logo"/>
                        <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">RemindMe</span>
                    </a>
                    <p class="text-sm text-brown-800 dark:text-brown-100 mt-2">
                        แอปที่คุณไว้วางใจสำหรับการเตือนความจำและการจัดระเบียบส่วนบุคคล .</p>
                </div>

                <!-- Quick Links -->
                <div class="mb-6">
                    <h4 class="text-lg font-bold dark:text-white">ลิงค์เข้าโดยตรง</h4>
                    <ul class="mt-2 space-y-2">
                        <li>
                            <a href="{% url 'home' %}" class="text-brown-800 dark:text-brown-100">หน้าหลัก</a>
                        </li>
                        <li>
                            {#                  <a href="#" class="text-brown-800 dark:text-brown-100">About Us</a>#}
                        </li>
                        <li>
                            {#                  <a href="#" class="text-brown-800 dark:text-brown-100">Contact</a>#}
                        </li>
                    </ul>
                </div>

                <!-- Contact Information -->
                <div class="mb-6">
                    <h4 class="text-lg font-bold dark:text-white">ติดต่อ</h4>
                    <p class="text-sm text-brown-800 dark:text-brown-100">Email: e@mail.com</p>
                    <p class="text-sm text-brown-800 dark:text-brown-100">Phone: +1 234 567 890</p>
                </div>
            </div>
            <hr class="border-brown-400 dark:border-brown-800 my-4"/>
            <p class="text-center text-sm text-brown-800 dark:text-brown-100">© 2024 RemindMe. All Rights Reserved.</p>
        </div>
    </footer>
</div>

{% block script %}

{% endblock %}

<script>
    // Alert
    const alert = document.getElementById("alert")
    const alert_text = document.getElementById("alert_text")
    const icon_ok = document.getElementById("icon_ok")
    const icon_error = document.getElementById("icon_error")
    const alert_title = document.getElementById("alert_title")

    let timeouts = []

    function show_alert(text) {
        clearTimeouts(timeouts)
        alert_text.innerText = text
        icon_ok.classList.remove("hidden")
        alert.classList.remove("-translate-y-full")
        alert.classList.remove("opacity-0")
        alert_title.innerText = "บันทึกการเปลี่ยนแปลงแล้ว"

        timeouts['show_alert'] = setTimeout(() => {
            alert.classList.add("-translate-y-full")
            alert.classList.add("opacity-0")
        }, 3000)
        timeouts['show_alert_hidden'] = setTimeout(() => {
            icon_ok.classList.add("hidden")
        }, 3100)
    }

    function show_error(text) {
        clearTimeouts(timeouts)
        alert_text.innerText = text
        icon_error.classList.remove("hidden")
        alert.classList.remove("-translate-y-full")
        alert.classList.remove("opacity-0")
        alert_title.innerText = "เกิดการผิดพลาาด"

        timeouts['show_error'] = setTimeout(() => {
            alert.classList.add("-translate-y-full")
            alert.classList.add("opacity-0")
        }, 3000)
        timeouts['show_error_hidden'] = setTimeout(() => {
            icon_error.classList.add("hidden")
        }, 3100)
    }

    function close_alert() {
        clearTimeouts(timeouts)
        setTimeout(() => {
            alert.classList.add("-translate-y-full")
            alert.classList.add("opacity-0")
        }, 500)
    }

    function clearTimeouts(timeouts) {
        for (i in timeouts) {
            clearTimeout(timeouts[i])
        }
    }
</script>
</body>
</html>
